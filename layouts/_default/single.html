{{ define "head" }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": {{ .Title | jsonify }},
  "description": {{ (default .Site.Params.description .Description) | jsonify }},
  "datePublished": "{{ .Date.Format "2006-01-02" }}",
  {{ with .Lastmod }}"dateModified": "{{ .Format "2006-01-02" }}",{{ end }}
  "author": {
    "@type": "Person",
    "name": "{{ .Site.Params.author }}",
    "url": "{{ .Site.BaseURL }}"
  },
  "publisher": {
    "@type": "Person",
    "name": "{{ .Site.Params.author }}"
  },
  "mainEntityOfPage": "{{ .Permalink }}"
}
</script>
{{ end }}

{{ define "main" }}
<article class="article">
    <header class="article-header">
        <h1>{{ .Title }}</h1>
        {{ with .Description }}<p class="article-desc">{{ . }}</p>{{ end }}
        <div class="article-meta">
            <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
            {{ with .Params.series }}· <span class="article-series">{{ . }}</span>{{ end }}
            · <span class="reading-time">{{ math.Round (div (countwords .Content) 200.0) }} min read</span>
        </div>
        {{ with .Params.tags }}
        <div class="article-tags">
            {{ range . }}<span class="tag">{{ . }}</span>{{ end }}
        </div>
        {{ end }}
    </header>

    <div class="article-content">
        {{ .Content }}
    </div>

    <footer class="article-footer">
        {{ with .PrevInSection }}
        <a href="{{ .Permalink }}" class="article-nav article-nav-prev">← {{ .Title }}</a>
        {{ end }}
        {{ with .NextInSection }}
        <a href="{{ .Permalink }}" class="article-nav article-nav-next">{{ .Title }} →</a>
        {{ end }}
    </footer>
</article>
{{ end }}
